<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <!-- axios 사용 -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script>
    const URL = 'https://api.thecatapi.com/v1/images/search'
    // axios를 통한 요청의 응답 결과를 변수에 할당
    
    // const response = axios({
    //   method: 'get',
    //   url: URL,
    // })
    // 이미 response객체 안에는 catch, then이 key로 존재 -> catch, then을 호출할 수 있다.
    // // console.log(response)
    // console.log(response.then())
    // console.log(response.catch())
    
    // 요청 : Promise 객체
    axios({
      method: 'get',
      url: URL,
    })
      // 응답(요청이 올 때, 바로 응답이 처리되는 것이 아니다!!! 비동기)
      .then((response) => {
        console.log(response)
        console.log(response.data)
        console.log(response.data[0].url)
      })
      .catch((error) => {
        console.log(error)
        console.log('실패했다옹')
      })
    // 응답이 나오기 전 출력되는 console(비동기 처리 확인용)
    // JS가 axios로 요청 보냄 
    // -> 이것을 Web API로 보내고, 응답이 오기 전에 이후 console 출력
    // -> Web API에서 처리된 응답은 Task Queue로 전달 
    // -> 응답이 도착하면 Call Stack이 비어있는지 확인하고 해당 응답 반환
    console.log('야옹야옹')
  </script>
</body>

</html>
